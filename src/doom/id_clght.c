//
// Copyright(C) 2013-2024 Brad Harding
// Copyright(C) 2024 Julia Nechaevskaya
//
// This program is free software; you can redistribute it and/or
// modify it under the terms of the GNU General Public License
// as published by the Free Software Foundation; either version 2
// of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//


#include <stdlib.h>

#include "z_zone.h"

#include "id_clght.h"


// =============================================================================
//
//                            COLORED SECTOR LIGHTING
//
// =============================================================================

// Main colormaps
lighttable_t   *colormaps_EEC06B;  // Bright yellow/gold
lighttable_t   *colormaps_D97C45;  // Middle yellow/gold
lighttable_t   *colormaps_FF7F7F;  // Bright red
lighttable_t   *colormaps_55B828;  // Bright green
lighttable_t   *colormaps_BBE357;  // Slime green
lighttable_t   *colormaps_949DB9;  // Bright desaturated blue
lighttable_t   *colormaps_2A2F6B;  // Middle desaturated blue
lighttable_t   *colormaps_50ADAC;  // Middle cyan

// Visplanes data
lighttable_t ***zlight_EEC06B = NULL;
lighttable_t ***zlight_D97C45 = NULL;
lighttable_t ***zlight_FF7F7F = NULL;
lighttable_t ***zlight_55B828 = NULL;
lighttable_t ***zlight_BBE357 = NULL;
lighttable_t ***zlight_949DB9 = NULL;
lighttable_t ***zlight_2A2F6B = NULL;
lighttable_t ***zlight_50ADAC = NULL;

// Segments data
lighttable_t ***scalelight_EEC06B = NULL;
lighttable_t ***scalelight_D97C45 = NULL;
lighttable_t ***scalelight_FF7F7F = NULL;
lighttable_t ***scalelight_55B828 = NULL;
lighttable_t ***scalelight_BBE357 = NULL;
lighttable_t ***scalelight_949DB9 = NULL;
lighttable_t ***scalelight_2A2F6B = NULL;
lighttable_t ***scalelight_50ADAC = NULL;


// =============================================================================
//
//                           INITIALIZATION FUNCTIONS
//
// =============================================================================

// -----------------------------------------------------------------------------
// Main colormaps
// -----------------------------------------------------------------------------

void R_AllocateColoredColormaps (void)
{
    colormaps_EEC06B = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_D97C45 = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_FF7F7F = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_55B828 = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_BBE357 = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_949DB9 = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_2A2F6B = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
    colormaps_50ADAC = (lighttable_t*) Z_Malloc((NUMCOLORMAPS + 1) * 256 * sizeof(lighttable_t), PU_STATIC, 0);
}

// -----------------------------------------------------------------------------
// Colored visplanes initialization
// -----------------------------------------------------------------------------

void R_ColoredVisplanesFreeI (int i)
{
    free(zlight_EEC06B[i]);
    free(zlight_D97C45[i]);
    free(zlight_FF7F7F[i]);
    free(zlight_55B828[i]);
    free(zlight_BBE357[i]);
    free(zlight_949DB9[i]);
    free(zlight_2A2F6B[i]);
    free(zlight_50ADAC[i]);
}

void R_ColoredVisplanesFree (void)
{
    free(zlight_EEC06B);
    free(zlight_D97C45);
    free(zlight_FF7F7F);
    free(zlight_55B828);
    free(zlight_BBE357);
    free(zlight_949DB9);
    free(zlight_2A2F6B);
    free(zlight_50ADAC);
}

void R_ColoredVisplanesMalloc (void)
{
    zlight_EEC06B = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_D97C45 = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_FF7F7F = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_55B828 = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_BBE357 = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_949DB9 = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_2A2F6B = malloc(LIGHTLEVELS * sizeof(*zlight));
    zlight_50ADAC = malloc(LIGHTLEVELS * sizeof(*zlight));
}

void R_ColoredVisplanesMAXLIGHTZ (int i)
{
    zlight_EEC06B[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_D97C45[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_FF7F7F[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_55B828[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_BBE357[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_949DB9[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_2A2F6B[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
    zlight_50ADAC[i] = malloc(MAXLIGHTZ * sizeof(**zlight));
}

void R_ColoredVisplanesIJLevel (int i, int j, int level)
{
    zlight_EEC06B[i][j] = colormaps_EEC06B + level*256;
    zlight_D97C45[i][j] = colormaps_D97C45 + level*256;
    zlight_FF7F7F[i][j] = colormaps_FF7F7F + level*256;
    zlight_55B828[i][j] = colormaps_55B828 + level*256;
    zlight_BBE357[i][j] = colormaps_55B828 + level*256;
    zlight_949DB9[i][j] = colormaps_949DB9 + level*256;
    zlight_2A2F6B[i][j] = colormaps_2A2F6B + level*256;
    zlight_50ADAC[i][j] = colormaps_50ADAC + level*256;
}

// -----------------------------------------------------------------------------
// Colored segments initialization
// -----------------------------------------------------------------------------

void R_ColoredSegsFreeI (int i)
{
    free(scalelight_EEC06B[i]);
    free(scalelight_D97C45[i]);
    free(scalelight_FF7F7F[i]);
    free(scalelight_55B828[i]);
    free(scalelight_BBE357[i]);
    free(scalelight_949DB9[i]);
    free(scalelight_2A2F6B[i]);
    free(scalelight_50ADAC[i]);
}

void R_ColoredSegsFree (void)
{
    free(scalelight_EEC06B);
    free(scalelight_D97C45);
    free(scalelight_FF7F7F);
    free(scalelight_55B828);
    free(scalelight_BBE357);
    free(scalelight_949DB9);
    free(scalelight_2A2F6B);
    free(scalelight_50ADAC);
}

void R_ColoredSegsMalloc (void)
{
    scalelight_EEC06B = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_D97C45 = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_FF7F7F = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_55B828 = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_BBE357 = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_949DB9 = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_2A2F6B = malloc(LIGHTLEVELS * sizeof(*scalelight));
    scalelight_50ADAC = malloc(LIGHTLEVELS * sizeof(*scalelight));
}

void R_ColoredSegsMAXLIGHTSCALE (int i)
{
    scalelight_EEC06B[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_D97C45[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_FF7F7F[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_55B828[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_BBE357[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_949DB9[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_2A2F6B[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
    scalelight_50ADAC[i] = malloc(MAXLIGHTSCALE * sizeof(**scalelight));
}

void R_ColoredSegsIJLevel (int i, int j, int level)
{
    scalelight_EEC06B[i][j] = colormaps_EEC06B + level*256;
    scalelight_D97C45[i][j] = colormaps_EEC06B + level*256;
    scalelight_FF7F7F[i][j] = colormaps_FF7F7F + level*256;
    scalelight_55B828[i][j] = colormaps_55B828 + level*256;
    scalelight_BBE357[i][j] = colormaps_55B828 + level*256;
    scalelight_949DB9[i][j] = colormaps_949DB9 + level*256;
    scalelight_2A2F6B[i][j] = colormaps_2A2F6B + level*256;
    scalelight_50ADAC[i][j] = colormaps_50ADAC + level*256;
}

// =============================================================================
//
//                             VISPLANES COLORING
//
// =============================================================================

lighttable_t **R_ColoredVisplanesColorize (int light, int color)
{
    switch (color)
    {
        case 0xEEC06B:  return zlight_EEC06B[light]; break;
        case 0xD97C45:  return zlight_D97C45[light]; break;
        case 0xFF7F7F:  return zlight_FF7F7F[light]; break;
        case 0x55B828:  return zlight_55B828[light]; break;
        case 0xBBE357:  return zlight_BBE357[light]; break;
        case 0x949DB9:  return zlight_949DB9[light]; break;
        case 0x2A2F6B:  return zlight_2A2F6B[light]; break;
        case 0x50ADAC:  return zlight_50ADAC[light]; break;
        default:        return zlight[light];        break;
    }
}

// =============================================================================
//
//                              SEGMENTS COLORING
//
// =============================================================================

lighttable_t **R_ColoredSegsColorize (int lightnum, int color)
{
    const int l = LIGHTLEVELS - 1;

    switch (color)
    {
        case 0xEEC06B:  return scalelight_EEC06B[BETWEEN(0, l, lightnum)];  break;
        case 0xD97C45:  return scalelight_D97C45[BETWEEN(0, l, lightnum)];  break;
        case 0xFF7F7F:  return scalelight_FF7F7F[BETWEEN(0, l, lightnum)];  break;
        case 0x55B828:  return scalelight_55B828[BETWEEN(0, l, lightnum)];  break;
        case 0xBBE357:  return scalelight_BBE357[BETWEEN(0, l, lightnum)];  break;
        case 0x949DB9:  return scalelight_949DB9[BETWEEN(0, l, lightnum)];  break;
        case 0x2A2F6B:  return scalelight_2A2F6B[BETWEEN(0, l, lightnum)];  break;
        case 0x50ADAC:  return scalelight_50ADAC[BETWEEN(0, l, lightnum)];  break;
        default:        return scalelight[BETWEEN(0, l, lightnum)];         break;
    }
}

// =============================================================================
//
//                               SPRITES COLORING
//
// =============================================================================

lighttable_t *R_ColoredSprColorize (int color)
{
    switch (color)
    {
        case 0xEEC06B:  return colormaps_EEC06B;  break;
        case 0xD97C45:  return colormaps_D97C45;  break;
        case 0xFF7F7F:  return colormaps_FF7F7F;  break;
        case 0x55B828:  return colormaps_55B828;  break;
        case 0xBBE357:  return colormaps_BBE357;  break;
        case 0x949DB9:  return colormaps_949DB9;  break;
        case 0x2A2F6B:  return colormaps_2A2F6B;  break;
        case 0x50ADAC:  return colormaps_50ADAC;  break;
        default:        return colormaps;         break;
    }
}

// =============================================================================
//
//                       COLORED LIGHTING INJECTION TABLE
//
// =============================================================================

const sectorcolor_t sectorcolor[] =
{
    // map, sector, color table

    // Area 1: Hangar
    {    1,      0,    0xFF7F7F },
    {    1,      1,    0xFF7F7F },
    {    1,      2,    0xFF7F7F },
    {    1,      3,    0x2A2F6B },
    {    1,      4,    0x2A2F6B },
    {    1,      5,    0x2A2F6B },
    {    1,      6,    0x2A2F6B },
    {    1,      7,    0x2A2F6B },
    {    1,     15,    0x55B828 },
    {    1,     17,    0x55B828 },
    {    1,     19,    0x55B828 },
    {    1,     20,    0x55B828 },
    {    1,     21,    0x55B828 },
    {    1,     22,    0x50ADAC },
    {    1,     33,    0x949DB9 },
    {    1,     34,    0x949DB9 },
    {    1,     35,    0x949DB9 },
    {    1,     36,    0x949DB9 },
    {    1,     37,    0x949DB9 },
    {    1,     38,    0x949DB9 },
    {    1,     42,    0xBBE357 },
    {    1,     47,    0x949DB9 },
    {    1,     48,    0x949DB9 },
    {    1,     53,    0xD97C45 },
    {    1,     64,    0xEEC06B },
    {    1,     65,    0xEEC06B },
    {    1,     67,    0xFF7F7F },
    {    1,     68,    0xFF7F7F },
    {    1,     69,    0xFF7F7F },
    {    1,     70,    0xFF7F7F },
    {    1,     71,    0xFF7F7F },
    {    1,     72,    0xFF7F7F },
    {    1,     73,    0xFF7F7F },
    {    1,     81,    0x55B828 },

    {   -1,      0,    0x000000 }
};

// =============================================================================
//
//                              COLORED COLORMAPS
//
// =============================================================================

const byte C_EEC06B[] = {
    0,0,0,29,17,5,21,11,3,70,56,31,238,192,107,25,
    20,11,18,14,8,10,8,5,7,5,3,44,41,13,33,32,
    6,21,23,3,14,17,0,74,44,18,66,38,15,59,32,11,
    238,138,77,231,129,72,227,123,68,219,114,63,216,108,60,208,
    102,57,204,93,52,197,87,48,189,81,45,186,75,42,178,69,
    38,175,66,37,167,59,33,163,53,30,156,47,26,152,44,25,
    145,38,21,141,35,20,133,32,18,130,26,15,122,23,13,119,
    20,11,111,17,10,107,14,8,100,11,6,96,8,5,89,5,
    3,85,5,3,77,5,3,74,0,0,66,0,0,63,0,0,
    238,177,94,238,171,89,238,165,84,238,159,78,238,156,75,238,
    150,70,238,144,65,238,141,62,238,135,55,231,129,52,223,123,
    48,216,117,45,208,111,42,201,105,38,193,99,35,189,96,33,
    178,93,31,167,87,30,160,84,28,152,81,26,145,75,25,133,
    72,23,126,66,21,119,62,20,111,59,18,100,53,16,89,50,
    15,77,47,13,70,41,11,59,35,10,48,32,8,40,26,6,
    223,180,100,216,174,97,208,168,94,204,165,92,197,159,89,189,
    153,85,186,150,84,178,144,80,171,138,77,167,135,75,160,129,
    72,156,126,70,148,120,67,141,114,63,137,111,62,130,105,58,
    122,99,55,119,96,53,111,90,50,104,84,47,100,81,45,92,
    75,42,85,69,38,81,66,37,74,59,33,66,53,30,63,50,
    28,55,44,25,51,41,23,44,35,20,36,29,16,33,26,15,
    111,192,47,104,180,43,96,168,40,89,156,37,85,144,33,77,
    132,30,70,120,26,63,111,23,59,99,20,51,87,18,44,75,
    15,36,62,11,29,50,10,21,38,6,18,26,5,10,17,3,
    178,126,60,171,120,57,163,114,53,156,108,50,148,102,47,145,
    96,45,137,93,42,130,87,38,122,81,37,115,75,33,111,72,
    31,104,66,28,96,62,26,89,56,23,81,50,21,77,47,20,
    148,99,42,133,90,35,122,81,31,111,72,26,96,62,21,85,
    53,18,74,44,15,63,38,11,115,96,42,104,87,37,96,81,
    33,85,75,30,77,66,25,66,59,21,59,53,18,51,47,16,
    238,192,48,219,165,37,201,141,28,182,117,20,163,93,13,145,
    69,8,126,50,3,107,32,0,238,192,107,238,165,92,238,141,
    78,238,117,65,238,93,52,238,72,40,238,47,26,238,23,13,
    238,0,0,223,0,0,212,0,0,201,0,0,189,0,0,178,
    0,0,167,0,0,156,0,0,145,0,0,130,0,0,119,0,
    0,107,0,0,96,0,0,85,0,0,74,0,0,63,0,0,
    216,174,107,186,150,107,160,129,107,133,108,107,107,87,107,77,
    62,107,51,41,107,25,20,107,0,0,107,0,0,95,0,0,
    85,0,0,75,0,0,65,0,0,55,0,0,45,0,0,35,
    238,192,107,238,177,92,238,162,78,238,150,65,238,135,52,238,
    123,38,238,108,25,238,96,11,227,87,10,219,84,6,208,78,
    6,201,72,5,189,66,3,182,59,0,171,53,0,163,50,0,
    238,192,107,238,192,90,238,192,75,238,192,60,238,192,45,238,
    192,30,238,192,15,238,192,0,156,47,0,148,41,0,137,35,
    0,126,26,0,74,44,16,63,35,11,51,26,8,44,20,5,
    0,0,35,0,0,30,0,0,25,0,0,20,0,0,15,0,
    0,10,0,0,5,0,0,0,238,120,28,238,174,31,238,93,
    107,238,0,107,193,0,87,148,0,65,104,0,45,156,81,45
};

const byte C_D97C45[] = {
    0,0,0,26,11,3,20,7,2,64,36,20,217,124,69,23,
    13,7,16,9,5,9,5,3,6,3,2,40,27,8,30,21,
    4,20,15,2,13,11,0,67,29,12,60,25,9,54,21,7,
    217,89,50,210,83,46,207,79,44,200,73,41,197,70,39,190,
    66,37,186,60,33,180,56,31,173,52,29,169,48,27,163,44,
    25,159,42,24,152,38,21,149,35,19,142,31,17,139,29,16,
    132,25,14,128,23,13,122,21,12,118,17,9,111,15,8,108,
    13,7,101,11,6,98,9,5,91,7,4,88,5,3,81,3,
    2,77,3,2,71,3,2,67,0,0,60,0,0,57,0,0,
    217,114,60,217,110,57,217,106,54,217,103,51,217,101,48,217,
    97,45,217,93,42,217,91,40,217,87,35,210,83,33,203,79,
    31,197,75,29,190,71,27,183,68,25,176,64,22,173,62,21,
    163,60,20,152,56,19,146,54,18,139,52,17,132,48,16,122,
    46,15,115,42,14,108,40,13,101,38,12,91,35,11,81,33,
    9,71,31,8,64,27,7,54,23,6,43,21,5,37,17,4,
    203,116,65,197,112,63,190,108,60,186,106,59,180,103,57,173,
    99,55,169,97,54,163,93,52,156,89,50,152,87,48,146,83,
    46,142,81,45,135,77,43,128,73,41,125,71,40,118,68,38,
    111,64,35,108,62,34,101,58,32,94,54,30,91,52,29,84,
    48,27,77,44,25,74,42,24,67,38,21,60,35,19,57,33,
    18,50,29,16,47,27,15,40,23,13,33,19,11,30,17,9,
    101,124,30,94,116,28,88,108,26,81,101,24,77,93,21,71,
    85,19,64,77,17,57,71,15,54,64,13,47,56,12,40,48,
    9,33,40,7,26,33,6,20,25,4,16,17,3,9,11,2,
    163,81,39,156,77,37,149,73,34,142,70,32,135,66,30,132,
    62,29,125,60,27,118,56,25,111,52,24,105,48,21,101,46,
    20,94,42,18,88,40,17,81,36,15,74,33,14,71,31,13,
    135,64,27,122,58,22,111,52,20,101,46,17,88,40,14,77,
    35,12,67,29,9,57,25,7,105,62,27,94,56,24,88,52,
    21,77,48,19,71,42,16,60,38,14,54,35,12,47,31,11,
    217,124,31,200,106,24,183,91,18,166,75,13,149,60,8,132,
    44,5,115,33,2,98,21,0,217,124,69,217,106,59,217,91,
    51,217,75,42,217,60,33,217,46,26,217,31,17,217,15,8,
    217,0,0,203,0,0,193,0,0,183,0,0,173,0,0,163,
    0,0,152,0,0,142,0,0,132,0,0,118,0,0,108,0,
    0,98,0,0,88,0,0,77,0,0,67,0,0,57,0,0,
    197,112,69,169,97,69,146,83,69,122,70,69,98,56,69,71,
    40,69,47,27,69,23,13,69,0,0,69,0,0,61,0,0,
    55,0,0,48,0,0,42,0,0,35,0,0,29,0,0,22,
    217,124,69,217,114,59,217,105,51,217,97,42,217,87,33,217,
    79,25,217,70,16,217,62,7,207,56,6,200,54,4,190,50,
    4,183,46,3,173,42,2,166,38,0,156,35,0,149,33,0,
    217,124,69,217,124,58,217,124,48,217,124,39,217,124,29,217,
    124,19,217,124,9,217,124,0,142,31,0,135,27,0,125,23,
    0,115,17,0,67,29,11,57,23,7,47,17,5,40,13,3,
    0,0,22,0,0,19,0,0,16,0,0,13,0,0,9,0,
    0,6,0,0,3,0,0,0,217,77,18,217,112,20,217,60,
    69,217,0,69,176,0,56,135,0,42,94,0,29,142,52,29
};

const byte C_FF7F7F[] = {
    0,0,0,31,11,5,23,7,3,75,37,37,255,127,127,27,
    13,13,19,9,9,11,5,5,7,3,3,47,27,15,35,21,
    7,23,15,3,15,11,0,79,29,21,71,25,17,63,21,13,
    255,91,91,247,85,85,243,81,81,235,75,75,231,71,71,223,
    67,67,219,61,61,211,57,57,203,53,53,199,49,49,191,45,
    45,187,43,43,179,39,39,175,35,35,167,31,31,163,29,29,
    155,25,25,151,23,23,143,21,21,139,17,17,131,15,15,127,
    13,13,119,11,11,115,9,9,107,7,7,103,5,5,95,3,
    3,91,3,3,83,3,3,79,0,0,71,0,0,67,0,0,
    255,117,111,255,113,105,255,109,99,255,105,93,255,103,89,255,
    99,83,255,95,77,255,93,73,255,89,65,247,85,61,239,81,
    57,231,77,53,223,73,49,215,69,45,207,65,41,203,63,39,
    191,61,37,179,57,35,171,55,33,163,53,31,155,49,29,143,
    47,27,135,43,25,127,41,23,119,39,21,107,35,19,95,33,
    17,83,31,15,75,27,13,63,23,11,51,21,9,43,17,7,
    239,119,119,231,115,115,223,111,111,219,109,109,211,105,105,203,
    101,101,199,99,99,191,95,95,183,91,91,179,89,89,171,85,
    85,167,83,83,159,79,79,151,75,75,147,73,73,139,69,69,
    131,65,65,127,63,63,119,59,59,111,55,55,107,53,53,99,
    49,49,91,45,45,87,43,43,79,39,39,71,35,35,67,33,
    33,59,29,29,55,27,27,47,23,23,39,19,19,35,17,17,
    119,127,55,111,119,51,103,111,47,95,103,43,91,95,39,83,
    87,35,75,79,31,67,73,27,63,65,23,55,57,21,47,49,
    17,39,41,13,31,33,11,23,25,7,19,17,5,11,11,3,
    191,83,71,183,79,67,175,75,63,167,71,59,159,67,55,155,
    63,53,147,61,49,139,57,45,131,53,43,123,49,39,119,47,
    37,111,43,33,103,41,31,95,37,27,87,33,25,83,31,23,
    159,65,49,143,59,41,131,53,37,119,47,31,103,41,25,91,
    35,21,79,29,17,67,25,13,123,63,49,111,57,43,103,53,
    39,91,49,35,83,43,29,71,39,25,63,35,21,55,31,19,
    255,127,57,235,109,43,215,93,33,195,77,23,175,61,15,155,
    45,9,135,33,3,115,21,0,255,127,127,255,109,109,255,93,
    93,255,77,77,255,61,61,255,47,47,255,31,31,255,15,15,
    255,0,0,239,0,0,227,0,0,215,0,0,203,0,0,191,
    0,0,179,0,0,167,0,0,155,0,0,139,0,0,127,0,
    0,115,0,0,103,0,0,91,0,0,79,0,0,67,0,0,
    231,115,127,199,99,127,171,85,127,143,71,127,115,57,127,83,
    41,127,55,27,127,27,13,127,0,0,127,0,0,113,0,0,
    101,0,0,89,0,0,77,0,0,65,0,0,53,0,0,41,
    255,127,127,255,117,109,255,107,93,255,99,77,255,89,61,255,
    81,45,255,71,29,255,63,13,243,57,11,235,55,7,223,51,
    7,215,47,5,203,43,3,195,39,0,183,35,0,175,33,0,
    255,127,127,255,127,107,255,127,89,255,127,71,255,127,53,255,
    127,35,255,127,17,255,127,0,167,31,0,159,27,0,147,23,
    0,135,17,0,79,29,19,67,23,13,55,17,9,47,13,5,
    0,0,41,0,0,35,0,0,29,0,0,23,0,0,17,0,
    0,11,0,0,5,0,0,0,255,79,33,255,115,37,255,61,
    127,255,0,127,207,0,103,159,0,77,111,0,53,167,53,53
};

const byte C_55B828[] = {
    0,0,0,10,17,2,8,11,1,25,54,12,85,184,40,9,
    19,4,6,14,3,4,8,2,2,5,1,16,40,5,12,31,
    2,8,22,1,5,17,0,26,43,7,24,37,5,21,31,4,
    85,132,29,82,123,27,81,118,26,78,109,24,77,103,22,74,
    97,21,73,89,19,70,83,18,68,77,17,66,71,16,64,66,
    14,62,63,14,60,57,12,58,51,11,56,45,10,54,43,9,
    52,37,8,50,34,7,48,31,7,46,25,5,44,22,5,42,
    19,4,40,17,4,38,14,3,36,11,2,34,8,2,32,5,
    1,30,5,1,28,5,1,26,0,0,24,0,0,22,0,0,
    85,170,35,85,164,33,85,158,31,85,152,29,85,149,28,85,
    144,26,85,138,24,85,135,23,85,129,21,82,123,19,80,118,
    18,77,112,17,74,106,16,72,100,14,69,95,13,68,92,12,
    64,89,12,60,83,11,57,80,11,54,77,10,52,71,9,48,
    69,9,45,63,8,42,60,7,40,57,7,36,51,6,32,48,
    5,28,45,5,25,40,4,21,34,4,17,31,3,14,25,2,
    80,172,37,77,167,36,74,161,35,73,158,34,70,152,33,68,
    146,32,66,144,31,64,138,30,61,132,29,60,129,28,57,123,
    27,56,121,26,53,115,25,50,109,24,49,106,23,46,100,22,
    44,95,21,42,92,20,40,86,19,37,80,17,36,77,17,33,
    71,16,30,66,14,29,63,14,26,57,12,24,51,11,22,48,
    11,20,43,9,18,40,9,16,34,7,13,28,6,12,25,5,
    40,184,17,37,172,16,34,161,15,32,149,14,30,138,12,28,
    126,11,25,115,10,22,106,9,21,95,7,18,83,7,16,71,
    5,13,60,4,10,48,4,8,37,2,6,25,2,4,17,1,
    64,121,22,61,115,21,58,109,20,56,103,19,53,97,17,52,
    92,17,49,89,16,46,83,14,44,77,14,41,71,12,40,69,
    12,37,63,11,34,60,10,32,54,9,29,48,8,28,45,7,
    53,95,16,48,86,13,44,77,12,40,69,10,34,60,8,30,
    51,7,26,43,5,22,37,4,41,92,16,37,83,14,34,77,
    12,30,71,11,28,63,9,24,57,8,21,51,7,18,45,6,
    85,184,18,78,158,14,72,135,11,65,112,7,58,89,5,52,
    66,3,45,48,1,38,31,0,85,184,40,85,158,34,85,135,
    29,85,112,24,85,89,19,85,69,15,85,45,10,85,22,5,
    85,0,0,80,0,0,76,0,0,72,0,0,68,0,0,64,
    0,0,60,0,0,56,0,0,52,0,0,46,0,0,42,0,
    0,38,0,0,34,0,0,30,0,0,26,0,0,22,0,0,
    77,167,40,66,144,40,57,123,40,48,103,40,38,83,40,28,
    60,40,18,40,40,9,19,40,0,0,40,0,0,36,0,0,
    32,0,0,28,0,0,24,0,0,21,0,0,17,0,0,13,
    85,184,40,85,170,34,85,155,29,85,144,24,85,129,19,85,
    118,14,85,103,9,85,92,4,81,83,4,78,80,2,74,74,
    2,72,69,2,68,63,1,65,57,0,61,51,0,58,48,0,
    85,184,40,85,184,34,85,184,28,85,184,22,85,184,17,85,
    184,11,85,184,5,85,184,0,56,45,0,53,40,0,49,34,
    0,45,25,0,26,43,6,22,34,4,18,25,3,16,19,2,
    0,0,13,0,0,11,0,0,9,0,0,7,0,0,5,0,
    0,4,0,0,2,0,0,0,85,115,11,85,167,12,85,89,
    40,85,0,40,69,0,32,53,0,24,37,0,17,56,77,17
};

const byte C_BBE357[] = {
    0,0,0,23,20,4,17,13,2,55,67,26,187,227,87,20,
    24,9,14,17,6,8,10,4,5,6,2,34,49,11,26,38,
    5,17,28,2,11,20,0,58,53,15,52,45,12,46,38,9,
    187,163,62,181,152,58,178,145,56,172,134,52,169,127,49,164,
    120,46,161,109,42,155,102,39,149,95,37,146,88,34,140,81,
    31,137,77,30,131,70,27,128,63,24,122,56,21,120,53,20,
    114,45,17,111,42,16,105,38,15,102,31,12,96,28,11,93,
    24,9,87,20,8,84,17,6,78,13,5,76,10,4,70,6,
    2,67,6,2,61,6,2,58,0,0,52,0,0,49,0,0,
    187,209,76,187,202,72,187,195,68,187,188,64,187,184,61,187,
    177,57,187,170,53,187,166,50,187,159,45,181,152,42,175,145,
    39,169,138,37,164,131,34,158,124,31,152,117,28,149,113,27,
    140,109,26,131,102,24,125,99,23,120,95,21,114,88,20,105,
    85,19,99,77,17,93,74,16,87,70,15,78,63,13,70,60,
    12,61,56,11,55,49,9,46,42,8,37,38,6,32,31,5,
    175,213,82,169,206,79,164,199,76,161,195,75,155,188,72,149,
    181,69,146,177,68,140,170,65,134,163,62,131,159,61,125,152,
    58,122,149,57,117,142,54,111,134,52,108,131,50,102,124,47,
    96,117,45,93,113,43,87,106,41,81,99,38,78,95,37,73,
    88,34,67,81,31,64,77,30,58,70,27,52,63,24,49,60,
    23,43,53,20,40,49,19,34,42,16,29,35,13,26,31,12,
    87,227,38,81,213,35,76,199,32,70,184,30,67,170,27,61,
    156,24,55,142,21,49,131,19,46,117,16,40,102,15,34,88,
    12,29,74,9,23,60,8,17,45,5,14,31,4,8,20,2,
    140,149,49,134,142,46,128,134,43,122,127,41,117,120,38,114,
    113,37,108,109,34,102,102,31,96,95,30,90,88,27,87,85,
    26,81,77,23,76,74,21,70,67,19,64,60,17,61,56,16,
    117,117,34,105,106,28,96,95,26,87,85,21,76,74,17,67,
    63,15,58,53,12,49,45,9,90,113,34,81,102,30,76,95,
    27,67,88,24,61,77,20,52,70,17,46,63,15,40,56,13,
    187,227,39,172,195,30,158,166,23,143,138,16,128,109,11,114,
    81,6,99,60,2,84,38,0,187,227,87,187,195,75,187,166,
    64,187,138,53,187,109,42,187,85,32,187,56,21,187,28,11,
    187,0,0,175,0,0,166,0,0,158,0,0,149,0,0,140,
    0,0,131,0,0,122,0,0,114,0,0,102,0,0,93,0,
    0,84,0,0,76,0,0,67,0,0,58,0,0,49,0,0,
    169,206,87,146,177,87,125,152,87,105,127,87,84,102,87,61,
    74,87,40,49,87,20,24,87,0,0,87,0,0,77,0,0,
    69,0,0,61,0,0,53,0,0,45,0,0,37,0,0,28,
    187,227,87,187,209,75,187,191,64,187,177,53,187,159,42,187,
    145,31,187,127,20,187,113,9,178,102,8,172,99,5,164,92,
    5,158,85,4,149,77,2,143,70,0,134,63,0,128,60,0,
    187,227,87,187,227,73,187,227,61,187,227,49,187,227,37,187,
    227,24,187,227,12,187,227,0,122,56,0,117,49,0,108,42,
    0,99,31,0,58,53,13,49,42,9,40,31,6,34,24,4,
    0,0,28,0,0,24,0,0,20,0,0,16,0,0,12,0,
    0,8,0,0,4,0,0,0,187,142,23,187,206,26,187,109,
    87,187,0,87,152,0,71,117,0,53,81,0,37,122,95,37
};

const byte C_949DB9[] = {
    0,0,0,18,14,8,13,9,5,44,46,54,148,157,185,16,
    17,20,11,12,14,6,7,8,4,4,5,27,34,22,20,26,
    11,13,19,5,9,14,0,46,36,31,41,31,25,37,26,20,
    148,113,133,143,105,124,141,100,118,136,93,110,134,88,104,129,
    83,98,127,76,89,122,71,83,118,66,78,115,61,72,111,56,
    66,109,54,63,104,49,57,102,44,52,97,39,46,95,36,43,
    90,31,37,88,29,34,83,26,31,81,22,25,76,19,22,74,
    17,20,69,14,17,67,12,14,62,9,11,60,7,8,55,4,
    5,53,4,5,48,4,5,46,0,0,41,0,0,39,0,0,
    148,145,162,148,140,153,148,135,144,148,130,136,148,127,130,148,
    123,121,148,118,112,148,115,107,148,110,95,143,105,89,139,100,
    83,134,95,78,129,91,72,125,86,66,120,81,60,118,78,57,
    111,76,54,104,71,52,99,68,49,95,66,46,90,61,43,83,
    58,40,78,54,37,74,51,34,69,49,31,62,44,28,55,41,
    25,48,39,22,44,34,20,37,29,17,30,26,14,25,22,11,
    139,147,173,134,142,168,129,137,162,127,135,159,122,130,153,118,
    125,147,115,123,144,111,118,139,106,113,133,104,110,130,99,105,
    124,97,103,121,92,98,115,88,93,110,85,91,107,81,86,101,
    76,81,95,74,78,92,69,73,86,64,68,81,62,66,78,57,
    61,72,53,56,66,50,54,63,46,49,57,41,44,52,39,41,
    49,34,36,43,32,34,40,27,29,34,23,24,28,20,22,25,
    69,157,81,64,147,75,60,137,69,55,127,63,53,118,57,48,
    108,52,44,98,46,39,91,40,37,81,34,32,71,31,27,61,
    25,23,51,20,18,41,17,13,31,11,11,22,8,6,14,5,
    111,103,104,106,98,98,102,93,92,97,88,86,92,83,81,90,
    78,78,85,76,72,81,71,66,76,66,63,71,61,57,69,58,
    54,64,54,49,60,51,46,55,46,40,50,41,37,48,39,34,
    92,81,72,83,73,60,76,66,54,69,58,46,60,51,37,53,
    44,31,46,36,25,39,31,20,71,78,72,64,71,63,60,66,
    57,53,61,52,48,54,43,41,49,37,37,44,31,32,39,28,
    148,157,83,136,135,63,125,115,49,113,95,34,102,76,22,90,
    56,14,78,41,5,67,26,0,148,157,185,148,135,159,148,115,
    136,148,95,112,148,76,89,148,58,69,148,39,46,148,19,22,
    148,0,0,139,0,0,132,0,0,125,0,0,118,0,0,111,
    0,0,104,0,0,97,0,0,90,0,0,81,0,0,74,0,
    0,67,0,0,60,0,0,53,0,0,46,0,0,39,0,0,
    134,142,185,115,123,185,99,105,185,83,88,185,67,71,185,48,
    51,185,32,34,185,16,17,185,0,0,185,0,0,165,0,0,
    147,0,0,130,0,0,112,0,0,95,0,0,78,0,0,60,
    148,157,185,148,145,159,148,132,136,148,123,112,148,110,89,148,
    100,66,148,88,43,148,78,20,141,71,17,136,68,11,129,63,
    11,125,58,8,118,54,5,113,49,0,106,44,0,102,41,0,
    148,157,185,148,157,156,148,157,130,148,157,104,148,157,78,148,
    157,52,148,157,25,148,157,0,97,39,0,92,34,0,85,29,
    0,78,22,0,46,36,28,39,29,20,32,22,14,27,17,8,
    0,0,60,0,0,52,0,0,43,0,0,34,0,0,25,0,
    0,17,0,0,8,0,0,0,148,98,49,148,142,54,148,76,
    185,148,0,185,120,0,150,92,0,112,64,0,78,97,66,78
};

const byte C_2A2F6B[] = {
    0,0,0,5,4,5,4,3,3,12,14,31,42,47,107,4,
    5,11,3,4,8,2,2,5,1,1,3,8,10,13,6,8,
    6,4,6,3,2,4,0,13,11,18,12,9,15,10,8,11,
    42,34,77,41,32,72,40,30,68,39,28,63,38,26,60,37,
    25,57,36,23,52,35,21,48,33,20,45,33,18,42,31,17,
    38,31,16,37,29,15,33,29,13,30,28,12,26,27,11,25,
    26,9,21,25,9,20,24,8,18,23,6,15,22,6,13,21,
    5,11,20,4,10,19,4,8,18,3,6,17,2,5,16,1,
    3,15,1,3,14,1,3,13,0,0,12,0,0,11,0,0,
    42,43,94,42,42,89,42,40,84,42,39,78,42,38,75,42,
    37,70,42,35,65,42,34,62,42,33,55,41,32,52,39,30,
    48,38,29,45,37,27,42,35,26,38,34,24,35,33,23,33,
    31,23,31,29,21,30,28,20,28,27,20,26,26,18,25,24,
    18,23,22,16,21,21,15,20,20,15,18,18,13,16,16,12,
    15,14,12,13,12,10,11,10,9,10,8,8,8,7,6,6,
    39,44,100,38,43,97,37,41,94,36,40,92,35,39,89,33,
    37,85,33,37,84,31,35,80,30,34,77,29,33,75,28,32,
    72,28,31,70,26,29,67,25,28,63,24,27,62,23,26,58,
    22,24,55,21,23,53,20,22,50,18,20,47,18,20,45,16,
    18,42,15,17,38,14,16,37,13,15,33,12,13,30,11,12,
    28,10,11,25,9,10,23,8,9,20,6,7,16,6,6,15,
    20,47,47,18,44,43,17,41,40,16,38,37,15,35,33,14,
    32,30,12,29,26,11,27,23,10,24,20,9,21,18,8,18,
    15,6,15,11,5,12,10,4,9,6,3,6,5,2,4,3,
    31,31,60,30,29,57,29,28,53,28,26,50,26,25,47,26,
    23,45,24,23,42,23,21,38,22,20,37,20,18,33,20,18,
    31,18,16,28,17,15,26,16,14,23,14,12,21,14,12,20,
    26,24,42,24,22,35,22,20,31,20,18,26,17,15,21,15,
    13,18,13,11,15,11,9,11,20,23,42,18,21,37,17,20,
    33,15,18,30,14,16,25,12,15,21,10,13,18,9,12,16,
    42,47,48,39,40,37,35,34,28,32,29,20,29,23,13,26,
    17,8,22,12,3,19,8,0,42,47,107,42,40,92,42,34,
    78,42,29,65,42,23,52,42,18,40,42,12,26,42,6,13,
    42,0,0,39,0,0,37,0,0,35,0,0,33,0,0,31,
    0,0,29,0,0,28,0,0,26,0,0,23,0,0,21,0,
    0,19,0,0,17,0,0,15,0,0,13,0,0,11,0,0,
    38,43,107,33,37,107,28,32,107,24,26,107,19,21,107,14,
    15,107,9,10,107,4,5,107,0,0,107,0,0,95,0,0,
    85,0,0,75,0,0,65,0,0,55,0,0,45,0,0,35,
    42,47,107,42,43,92,42,40,78,42,37,65,42,33,52,42,
    30,38,42,26,25,42,23,11,40,21,10,39,20,6,37,19,
    6,35,18,5,33,16,3,32,15,0,30,13,0,29,12,0,
    42,47,107,42,47,90,42,47,75,42,47,60,42,47,45,42,
    47,30,42,47,15,42,47,0,28,12,0,26,10,0,24,9,
    0,22,6,0,13,11,16,11,9,11,9,6,8,8,5,5,
    0,0,35,0,0,30,0,0,25,0,0,20,0,0,15,0,
    0,10,0,0,5,0,0,0,42,29,28,42,43,31,42,23,
    107,42,0,107,34,0,87,26,0,65,18,0,45,28,20,45
};

const byte C_50ADAC[] = {
    0,0,0,10,16,7,7,10,5,24,51,51,80,173,172,8,
    18,18,6,13,13,3,7,7,2,5,5,15,37,21,11,29,
    10,7,21,5,5,16,0,25,40,29,22,35,24,20,29,18,
    80,124,123,77,116,115,76,111,110,74,102,102,72,97,96,70,
    92,91,69,83,83,66,78,78,64,73,72,62,67,67,60,62,
    61,59,59,59,56,54,53,55,48,48,52,43,42,51,40,40,
    49,35,34,47,32,32,45,29,29,44,24,24,41,21,21,40,
    18,18,37,16,16,36,13,13,34,10,10,32,7,7,30,5,
    5,29,5,5,26,5,5,25,0,0,22,0,0,21,0,0,
    80,159,150,80,154,142,80,149,134,80,143,126,80,140,121,80,
    135,113,80,130,105,80,127,99,80,121,88,77,116,83,75,111,
    78,72,105,72,70,100,67,67,94,61,65,89,56,64,86,53,
    60,83,51,56,78,48,54,75,45,51,73,42,49,67,40,45,
    64,37,42,59,34,40,56,32,37,54,29,34,48,26,30,45,
    24,26,43,21,24,37,18,20,32,16,16,29,13,13,24,10,
    75,162,161,72,157,156,70,151,150,69,149,148,66,143,142,64,
    138,137,62,135,134,60,130,129,57,124,123,56,121,121,54,116,
    115,52,113,113,50,108,107,47,102,102,46,100,99,44,94,94,
    41,89,88,40,86,86,37,81,80,35,75,75,34,73,72,31,
    67,67,29,62,61,27,59,59,25,54,53,22,48,48,21,45,
    45,19,40,40,17,37,37,15,32,32,12,26,26,11,24,24,
    37,173,75,35,162,69,32,151,64,30,140,59,29,130,53,26,
    119,48,24,108,42,21,100,37,20,89,32,17,78,29,15,67,
    24,12,56,18,10,45,16,7,35,10,6,24,7,3,16,5,
    60,113,96,57,108,91,55,102,86,52,97,80,50,92,75,49,
    86,72,46,83,67,44,78,61,41,73,59,39,67,53,37,64,
    51,35,59,45,32,56,42,30,51,37,27,45,34,26,43,32,
    50,89,67,45,81,56,41,73,51,37,64,42,32,56,34,29,
    48,29,25,40,24,21,35,18,39,86,67,35,78,59,32,73,
    53,29,67,48,26,59,40,22,54,34,20,48,29,17,43,26,
    80,173,78,74,149,59,67,127,45,61,105,32,55,83,21,49,
    62,13,42,45,5,36,29,0,80,173,172,80,149,148,80,127,
    126,80,105,105,80,83,83,80,64,64,80,43,42,80,21,21,
    80,0,0,75,0,0,71,0,0,67,0,0,64,0,0,60,
    0,0,56,0,0,52,0,0,49,0,0,44,0,0,40,0,
    0,36,0,0,32,0,0,29,0,0,25,0,0,21,0,0,
    72,157,172,62,135,172,54,116,172,45,97,172,36,78,172,26,
    56,172,17,37,172,8,18,172,0,0,172,0,0,153,0,0,
    137,0,0,121,0,0,105,0,0,88,0,0,72,0,0,56,
    80,173,172,80,159,148,80,146,126,80,135,105,80,121,83,80,
    111,61,80,97,40,80,86,18,76,78,16,74,75,10,70,70,
    10,67,64,7,64,59,5,61,54,0,57,48,0,55,45,0,
    80,173,172,80,173,145,80,173,121,80,173,96,80,173,72,80,
    173,48,80,173,24,80,173,0,52,43,0,50,37,0,46,32,
    0,42,24,0,25,40,26,21,32,18,17,24,13,15,18,7,
    0,0,56,0,0,48,0,0,40,0,0,32,0,0,24,0,
    0,16,0,0,7,0,0,0,80,108,45,80,157,51,80,83,
    172,80,0,172,65,0,140,50,0,105,35,0,72,52,73,72
};
